<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Desmos Kalp Dönüşümü</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #111; /* Koyu Mod */
        }
        canvas {
            box-shadow: 0 0 30px rgba(220, 20, 60, 0.3);
            border-radius: 10px;
            background-color: #000;
        }
  .layout {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100vw;
    padding: 0 80px;
}



.side {
    width: 40vw;        /* ekranın %40’ı */
    max-width: 700px;   /* aşırı büyümesin */
    color: F222D0;
    padding: 20px;
    font-family: 'Great Vibes', cursive;

    display: flex;
    flex-direction: column;
    align-items: center;   /* yatay ortalama */
    text-align: center;    /* metin ortalama */
}
.side p {
    text-align: left;
    line-height: 1.6;
}

.side h2 {
    margin-top: 0;
    font-size: 32px;
    margin-bottom: 20px;
}




    </style>
</head>
<body>

    <div class="layout">

    <div class="side left">
        <h1>To My Lady</h1>
        <p>From the very first moment I saw you, something inside me shifted. I knew right then that I wanted to be closer to you—to hear your voice more, to watch your smile up close. And finally, exactly one month ago on January 18th, I got that chance. Since that day, every second has been about living this relationship in the most beautiful way possible, working harder than ever to be the best partner for you.</p>
<p>This is our very first Valentine's Day together. And right here, in these words, I'm leaving my promise: I want to celebrate at least 50 more Valentine's Days with you. 50 more February 14ths waking up hand in hand, 50 more times saying 'I'm so lucky you're mine,' 50 more laughs, arguments, make-ups, and falling in love all over again.</p>
<p>Making this heart took me weeks. Some nights I didn't sleep at all, my fingers went numb, I told myself 'enough already' more times than I can count—but I kept going. Because I knew that tiny, surprised, happy look on your face would make every second worth it. And it was… When your eyes light up, flowers bloom somewhere inside me.</p>
<p>Every day talking to you teaches me something new about myself. To make you smile, to surprise you, to impress you—I end up researching, learning, trying new things, and it turns me into a better person. I'm already crazy in love with every little thing about you: your quirks, the sound of your laugh, the way your brows furrow when you're annoyed, your sleepy voice… I'm obsessed with it all. But the best part? You make me want to learn more. You make me patient, a better listener, someone who really sees. And every time you teach me something, I fall for you even harder, deeper, more insanely.</p>
<p>This Valentine's Day, I just want to say: Every day that starts with you is already a celebration. But today, I'm officially celebrating too. I love you—so much that words sometimes fall short. Thank God you said yes on January 18th. Thank God you're here.</p>
<p>Happy Valentine's Day, the most beautiful heart in my life ❤️</p>
<p>Forever yours,</p>
    </div>

    <canvas id="kalpCanvas"></canvas>


</div>



<script>
    const canvas = document.getElementById("kalpCanvas");
    const ctx = canvas.getContext("2d");

    // Tam ekran veya sabit boyut
    canvas.width = 600;
    canvas.height = 700;

    const width = canvas.width;
    const height = canvas.height;
    const scale = 100; // Kalbin büyüklüğü

    // Animasyon Ayarları
    const maxA = 25; // Kalbin ne kadar "dolacağını" belirler (Sıklık)
    const duration = 8000; // Döngü süresi (10 saniye)

    function drawGrid() {
        ctx.strokeStyle = "rgba(255, 255, 255, 0.1)";
        ctx.lineWidth = 1;
        ctx.beginPath();
        // Basit ızgara
        for(let i=0; i<=width; i+=50) { ctx.moveTo(i,0); ctx.lineTo(i,height); }
        for(let i=0; i<=height; i+=50) { ctx.moveTo(0,i); ctx.lineTo(width,i); }
        ctx.stroke();

        // Eksenler
        ctx.strokeStyle = "white";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(width/2, 0); ctx.lineTo(width/2, height);
        ctx.moveTo(0, height/2); ctx.lineTo(width, height/2);
        ctx.stroke();
    }

    function animate() {
        // Zamanı al ve 0 ile 1 arasında giden bir döngü oluştur
        let time = Date.now() % duration;
        let progress = time / duration;

        // "a" değeri 0'dan maxA'ya çıkar, sonra tekrar 0'a iner (Pin-pong etkisi)
        // Math.sin(progress * Math.PI) -> 0'dan başlar, 1'e çıkar, 0'a iner.
        let a = Math.sin(progress * Math.PI) * maxA;

        ctx.clearRect(0, 0, width, height);
        drawGrid();

        ctx.beginPath();
        ctx.strokeStyle = "#ff3366"; // Kalp Rengi
        ctx.lineWidth = 2;

        let first = true;

        // Formülün tanım aralığı: -sqrt(5) ile +sqrt(5) arası (yaklaşık -2.23 ile 2.23)
        // Adım aralığını (0.003) küçük tuttum ki çizgiler pürüzsüz olsun
        for (let x = -2.236; x <= 2.236; x += 0.003) {
            
            // FORMÜL: x^(2/3) + sqrt(5 - x^2) * sin(a * pi * x)
            let term1 = Math.cbrt(x * x); 
            let term2 = Math.sqrt(5 - x * x) * Math.sin(a * Math.PI * x);
            let y = term1 + term2;

            if (isNaN(y)) continue;

            // Koordinatları ekrana uyarla
            let plotX = width / 2 + (x * scale);
            let plotY = height / 2 - (y * scale); // Canvas'ta Y ters işler

            if (first) {
                ctx.moveTo(plotX, plotY);
                first = false;
            } else {
                ctx.lineTo(plotX, plotY);
            }
        }
        ctx.stroke();

        requestAnimationFrame(animate);
    }

    animate();
</script>

</body>
</html>
